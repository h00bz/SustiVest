@model Paged<Assessments>

<partial name="_Breadcrumbs" model=@(new [] { ("/", "Home"), ("", "Assessments") }) />

<div class="card border rounded shadow p-4">
    <!-- Title bar -->
    <div class="d-flex align-items-center justify-content-between">
        <h3>Assessments</h3>
        <a class="btn btn-sm btn-primary" asp-action="Create" title="add assessment" aria-label="add assessment">
            <i class="bi bi-plus"></i> Create
        </a>
    </div>

    <!-- List of assessments -->
    <table class="table table-hover mt-4">
        <thead>
            <tr>
                <th>
                    Company Name
                    <a asp-action="Index" asp-route-order="CompanyName" asp-route-direction=@Model.Direction
                        asp-route-page=@Model.CurrentPage asp-route-size=@Model.PageSize>
                        <vc:sort-order field="CompanyName" orderby=@Model.OrderBy direction=@Model.Direction />
                    </a>
                </th>
                <th>
                    Risk Rating
                    <a asp-action="Index" asp-route-order="RiskRating" asp-route-direction=@Model.Direction
                        asp-route-page=@Model.CurrentPage asp-route-size=@Model.PageSize>
                        <vc:sort-order field="RiskRating" orderby=@Model.OrderBy direction=@Model.Direction />
                    </a>
                </th>
                <th>
                    Sales
                    <a asp-action="Index" asp-route-order="Sales" asp-route-direction=@Model.Direction
                        asp-route-page=@Model.CurrentPage asp-route-size=@Model.PageSize>
                        <vc:sort-order field="Sales" orderby=@Model.OrderBy direction=@Model.Direction />
                    </a>
                </th>
                <th>
                    Total Assets
                    <a asp-action="Index" asp-route-order="TotalAssets" asp-route-direction=@Model.Direction
                        asp-route-page=@Model.CurrentPage asp-route-size=@Model.PageSize>
                        <vc:sort-order field="TotalAssets" orderby=@Model.OrderBy direction=@Model.Direction />
                    </a>
                </th>
                <th>
                    Net Equity
                    <a asp-action="Index" asp-route-order="NetEquity" asp-route-direction=@Model.Direction
                        asp-route-page=@Model.CurrentPage asp-route-size=@Model.PageSize>
                        <vc:sort-order field="NetEquity" orderby=@Model.OrderBy direction=@Model.Direction />
                    </a>
                </th>
                <th>
                    Analyst No
                    <a asp-action="Index" asp-route-order="AnalystNo" asp-route-direction=@Model.Direction
                        asp-route-page=@Model.CurrentPage asp-route-size=@Model.PageSize>
                        <vc:sort-order field="AnalystNo" orderby=@Model.OrderBy direction=@Model.Direction />
                    </a>
                </th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var assessment in Model.Data)
            {
                <tr>
                    <td>@assessment.Company?.CompanyName</td>
                    <td>@assessment.RiskRating</td>
                    <td>@assessment.Sales</td>
                    <td>@assessment.TotalAssets</td>
                    <td>@assessment.NetEquity</td>
                    <td>@assessment.AnalystNo</td>
                    <td>
                        <a asp-action="Details" asp-route-requestNo="@assessment.RequestNo" asp-route-analystNo="@assessment.AnalystNo">
                            <i class="bi bi-display-fill me-2" title="view assessment" aria-label="view assessment"></i>
                        </a>
                        <a asp-action="Edit" asp-route-requestNo="@assessment.RequestNo" asp-route-analystNo="@assessment.AnalystNo">
                            <i class="bi bi-pencil-fill me-2" title="edit assessment" aria-label="edit assessment"></i>
                        </a>
                        <a asp-action="Delete" asp-route-requestNo="@assessment.RequestNo" asp-route-analystNo="@assessment.AnalystNo">
                            <i class="bi bi-trash-fill me-2" title="delete assessment" aria-label="delete assessment"></i>
                        </a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
